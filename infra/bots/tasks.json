{
  "jobs": {
    "Housekeeper-OnDemand-Presubmit": {
      "priority": 1,
      "tasks": [
        "Housekeeper-OnDemand-Presubmit"
      ],
      "trigger": "on demand"
    },
    "Housekeeper-PerCommit-CIPD-Canary": {
      "tasks": [
        "Housekeeper-PerCommit-CIPD-Canary"
      ],
      "trigger": "main"
    },
    "Housekeeper-PerCommit-CIPD-SK": {
      "tasks": [
        "Housekeeper-PerCommit-CIPD-SK"
      ],
      "trigger": "main"
    },
    "Housekeeper-PerCommit-CIPD-ValidateAutorollConfigs": {
      "tasks": [
        "Housekeeper-PerCommit-CIPD-ValidateAutorollConfigs"
      ],
      "trigger": "main"
    },
    "Housekeeper-Weekly-UpdateCIPDPackages": {
      "tasks": [
        "Housekeeper-Weekly-UpdateCIPDPackages"
      ],
      "trigger": "weekly"
    },
    "Infra-Experimental-Small-Linux": {
      "tasks": [
        "Infra-Experimental-Small-Linux"
      ]
    },
    "Infra-Experimental-Small-Win": {
      "tasks": [
        "Infra-Experimental-Small-Win"
      ]
    },
    "Infra-PerCommit-Build-Bazel-Local": {
      "tasks": [
        "Infra-PerCommit-Build-Bazel-Local"
      ]
    },
    "Infra-PerCommit-Build-Bazel-RBE": {
      "tasks": [
        "Infra-PerCommit-Build-Bazel-RBE"
      ]
    },
    "Infra-PerCommit-Test-Bazel-Local": {
      "tasks": [
        "Infra-PerCommit-Test-Bazel-Local"
      ]
    },
    "Infra-PerCommit-Test-Bazel-RBE": {
      "tasks": [
        "Infra-PerCommit-Test-Bazel-RBE"
      ]
    }
  },
  "tasks": {
    "Housekeeper-OnDemand-Presubmit": {
      "casSpec": "empty",
      "cipd_packages": [
        {
          "name": "infra/3pp/tools/git/linux-amd64",
          "path": "cipd_bin_packages",
          "version": "version:2@2.36.0-rc2.chromium.8"
        },
        {
          "name": "infra/tools/git/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:34ecdc8775563915792e05ba9d921342808ae2dc"
        },
        {
          "name": "infra/tools/luci/git-credential-luci/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:34ecdc8775563915792e05ba9d921342808ae2dc"
        },
        {
          "name": "skia/bots/bazelisk",
          "path": "bazelisk",
          "version": "version:0"
        }
      ],
      "command": [
        "./presubmit",
        "--project_id",
        "skia-swarming-bots",
        "--task_id",
        "<(TASK_ID)",
        "--task_name",
        "Housekeeper-OnDemand-Presubmit",
        "--workdir",
        ".",
        "--repo",
        "<(REPO)",
        "--revision",
        "<(REVISION)",
        "--patch_issue",
        "<(ISSUE)",
        "--patch_set",
        "<(PATCHSET)",
        "--patch_server",
        "<(CODEREVIEW_SERVER)"
      ],
      "dependencies": [
        "Housekeeper-PerCommit-BuildTaskDrivers-Linux-x86_64"
      ],
      "dimensions": [
        "pool:Skia",
        "os:Debian-10.3",
        "gpu:none",
        "cpu:x86-64-Haswell_GCE",
        "machine_type:n1-standard-16",
        "docker_installed:true"
      ],
      "env_prefixes": {
        "PATH": [
          "cipd_bin_packages",
          "bazelisk"
        ]
      },
      "max_attempts": 1,
      "service_account": "skia-external-compile-tasks@skia-swarming-bots.iam.gserviceaccount.com"
    },
    "Housekeeper-PerCommit-BuildTaskDrivers-Linux-x86_64": {
      "casSpec": "whole-repo",
      "cipd_packages": [
        {
          "name": "skia/bots/bazelisk",
          "path": "bazelisk",
          "version": "version:0"
        }
      ],
      "command": [
        "/bin/bash",
        "buildbot/infra/bots/build_task_drivers.sh",
        "${ISOLATED_OUTDIR}",
        "linux_amd64"
      ],
      "dimensions": [
        "pool:Skia",
        "os:Debian-10.3",
        "gpu:none",
        "cpu:x86-64-Haswell_GCE",
        "machine_type:n1-standard-16",
        "docker_installed:true"
      ],
      "env_prefixes": {
        "PATH": [
          "bazelisk"
        ]
      },
      "idempotent": true
    },
    "Housekeeper-PerCommit-BuildTaskDrivers-Win-x86_64": {
      "casSpec": "whole-repo",
      "cipd_packages": [
        {
          "name": "skia/bots/bazelisk",
          "path": "bazelisk",
          "version": "version:0"
        }
      ],
      "command": [
        "/bin/bash",
        "buildbot/infra/bots/build_task_drivers.sh",
        "${ISOLATED_OUTDIR}",
        "windows_amd64"
      ],
      "dimensions": [
        "pool:Skia",
        "os:Debian-10.3",
        "gpu:none",
        "cpu:x86-64-Haswell_GCE",
        "machine_type:n1-standard-16",
        "docker_installed:true"
      ],
      "env_prefixes": {
        "PATH": [
          "bazelisk"
        ]
      },
      "idempotent": true
    },
    "Housekeeper-PerCommit-CIPD-Canary": {
      "casSpec": "whole-repo",
      "cipd_packages": [
        {
          "name": "skia/bots/bazelisk",
          "path": "bazelisk",
          "version": "version:0"
        }
      ],
      "command": [
        "./build_and_deploy_cipd",
        "--project_id",
        "skia-swarming-bots",
        "--task_id",
        "<(TASK_ID)",
        "--task_name",
        "Housekeeper-PerCommit-CIPD-Canary",
        "--build_dir",
        "buildbot",
        "--package_name",
        "skia/tools/canary",
        "--metadata",
        "git_repo:<(REPO)",
        "--tag",
        "git_revision:<(REVISION)",
        "--ref",
        "latest",
        "--rbe",
        "--target",
        "//infra/bots/task_drivers/canary:canary",
        "--include_path",
        "_bazel_bin/infra/bots/task_drivers/canary/canary_/canary[.exe]",
        "--platform",
        "@io_bazel_rules_go//go/toolchain:darwin_amd64=mac-amd64",
        "--platform",
        "@io_bazel_rules_go//go/toolchain:darwin_arm64=mac-arm64",
        "--platform",
        "@io_bazel_rules_go//go/toolchain:linux_amd64=linux-amd64",
        "--platform",
        "@io_bazel_rules_go//go/toolchain:linux_arm64=linux-arm64",
        "--platform",
        "@io_bazel_rules_go//go/toolchain:windows_amd64=windows-amd64"
      ],
      "dependencies": [
        "Housekeeper-PerCommit-BuildTaskDrivers-Linux-x86_64",
        "Infra-PerCommit-Test-Bazel-RBE"
      ],
      "dimensions": [
        "pool:Skia",
        "os:Debian-10.3",
        "gpu:none",
        "cpu:x86-64-Haswell_GCE",
        "machine_type:n1-highcpu-64",
        "docker_installed:true"
      ],
      "env_prefixes": {
        "PATH": [
          "cipd_bin_packages",
          "cipd_bin_packages/bin",
          "bazelisk"
        ]
      },
      "service_account": "cipd-uploader@skia-swarming-bots.iam.gserviceaccount.com"
    },
    "Housekeeper-PerCommit-CIPD-SK": {
      "casSpec": "whole-repo",
      "cipd_packages": [
        {
          "name": "skia/bots/bazelisk",
          "path": "bazelisk",
          "version": "version:0"
        }
      ],
      "command": [
        "./build_and_deploy_cipd",
        "--project_id",
        "skia-swarming-bots",
        "--task_id",
        "<(TASK_ID)",
        "--task_name",
        "Housekeeper-PerCommit-CIPD-SK",
        "--build_dir",
        "buildbot",
        "--package_name",
        "skia/tools/sk",
        "--metadata",
        "git_repo:<(REPO)",
        "--tag",
        "git_revision:<(REVISION)",
        "--ref",
        "latest",
        "--rbe",
        "--target",
        "//sk/go/sk:sk",
        "--include_path",
        "_bazel_bin/sk/go/sk/sk_/sk[.exe]",
        "--platform",
        "@io_bazel_rules_go//go/toolchain:darwin_amd64=mac-amd64",
        "--platform",
        "@io_bazel_rules_go//go/toolchain:darwin_arm64=mac-arm64",
        "--platform",
        "@io_bazel_rules_go//go/toolchain:linux_amd64=linux-amd64",
        "--platform",
        "@io_bazel_rules_go//go/toolchain:linux_arm64=linux-arm64",
        "--platform",
        "@io_bazel_rules_go//go/toolchain:windows_amd64=windows-amd64"
      ],
      "dependencies": [
        "Housekeeper-PerCommit-BuildTaskDrivers-Linux-x86_64",
        "Infra-PerCommit-Test-Bazel-RBE"
      ],
      "dimensions": [
        "pool:Skia",
        "os:Debian-10.3",
        "gpu:none",
        "cpu:x86-64-Haswell_GCE",
        "machine_type:n1-highcpu-64",
        "docker_installed:true"
      ],
      "env_prefixes": {
        "PATH": [
          "cipd_bin_packages",
          "cipd_bin_packages/bin",
          "bazelisk"
        ]
      },
      "service_account": "cipd-uploader@skia-swarming-bots.iam.gserviceaccount.com"
    },
    "Housekeeper-PerCommit-CIPD-ValidateAutorollConfigs": {
      "casSpec": "whole-repo",
      "cipd_packages": [
        {
          "name": "skia/bots/bazelisk",
          "path": "bazelisk",
          "version": "version:0"
        }
      ],
      "command": [
        "./build_and_deploy_cipd",
        "--project_id",
        "skia-swarming-bots",
        "--task_id",
        "<(TASK_ID)",
        "--task_name",
        "Housekeeper-PerCommit-CIPD-ValidateAutorollConfigs",
        "--build_dir",
        "buildbot",
        "--package_name",
        "skia/tools/validate_autoroll_configs",
        "--metadata",
        "git_repo:<(REPO)",
        "--tag",
        "git_revision:<(REVISION)",
        "--ref",
        "latest",
        "--rbe",
        "--target",
        "//infra/bots/task_drivers/validate_autoroll_configs:validate_autoroll_configs",
        "--include_path",
        "_bazel_bin/infra/bots/task_drivers/validate_autoroll_configs/validate_autoroll_configs_/validate_autoroll_configs[.exe]",
        "--platform",
        "@io_bazel_rules_go//go/toolchain:darwin_amd64=mac-amd64",
        "--platform",
        "@io_bazel_rules_go//go/toolchain:darwin_arm64=mac-arm64",
        "--platform",
        "@io_bazel_rules_go//go/toolchain:linux_amd64=linux-amd64",
        "--platform",
        "@io_bazel_rules_go//go/toolchain:linux_arm64=linux-arm64",
        "--platform",
        "@io_bazel_rules_go//go/toolchain:windows_amd64=windows-amd64"
      ],
      "dependencies": [
        "Housekeeper-PerCommit-BuildTaskDrivers-Linux-x86_64",
        "Infra-PerCommit-Test-Bazel-RBE"
      ],
      "dimensions": [
        "pool:Skia",
        "os:Debian-10.3",
        "gpu:none",
        "cpu:x86-64-Haswell_GCE",
        "machine_type:n1-highcpu-64",
        "docker_installed:true"
      ],
      "env_prefixes": {
        "PATH": [
          "cipd_bin_packages",
          "cipd_bin_packages/bin",
          "bazelisk"
        ]
      },
      "service_account": "cipd-uploader@skia-swarming-bots.iam.gserviceaccount.com"
    },
    "Housekeeper-Weekly-UpdateCIPDPackages": {
      "caches": [
        {
          "name": "go_cache",
          "path": "cache/go_cache"
        },
        {
          "name": "gopath",
          "path": "cache/gopath"
        }
      ],
      "casSpec": "empty",
      "cipd_packages": [
        {
          "name": "infra/3pp/tools/git/linux-amd64",
          "path": "cipd_bin_packages",
          "version": "version:2@2.36.0-rc2.chromium.8"
        },
        {
          "name": "infra/tools/git/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:34ecdc8775563915792e05ba9d921342808ae2dc"
        },
        {
          "name": "infra/tools/luci/git-credential-luci/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:34ecdc8775563915792e05ba9d921342808ae2dc"
        },
        {
          "name": "skia/bots/go",
          "path": "go",
          "version": "version:16"
        },
        {
          "name": "skia/bots/protoc",
          "path": "protoc",
          "version": "version:0"
        }
      ],
      "command": [
        "./roll_cipd_packages",
        "--project_id",
        "skia-swarming-bots",
        "--task_id",
        "<(TASK_ID)",
        "--task_name",
        "Housekeeper-Weekly-UpdateCIPDPackages",
        "--workdir",
        ".",
        "--gerrit_project",
        "buildbot",
        "--gerrit_url",
        "https://skia-review.googlesource.com",
        "--repo",
        "<(REPO)",
        "--revision",
        "<(REVISION)",
        "--patch_issue",
        "<(ISSUE)",
        "--patch_set",
        "<(PATCHSET)",
        "--patch_server",
        "<(CODEREVIEW_SERVER)",
        "--skip",
        "cpython3"
      ],
      "dependencies": [
        "Housekeeper-PerCommit-BuildTaskDrivers-Linux-x86_64"
      ],
      "dimensions": [
        "pool:Skia",
        "os:Debian-10.3",
        "gpu:none",
        "cpu:x86-64-Haswell_GCE",
        "machine_type:n1-standard-16",
        "docker_installed:true"
      ],
      "env_prefixes": {
        "PATH": [
          "cipd_bin_packages",
          "cipd_bin_packages/bin",
          "go/go/bin"
        ]
      },
      "service_account": "skia-recreate-skps@skia-swarming-bots.iam.gserviceaccount.com"
    },
    "Infra-Experimental-Small-Linux": {
      "caches": [
        {
          "name": "go_cache",
          "path": "cache/go_cache"
        },
        {
          "name": "gopath",
          "path": "cache/gopath"
        }
      ],
      "casSpec": "whole-repo",
      "cipd_packages": [
        {
          "name": "infra/3pp/tools/cpython3/linux-amd64",
          "path": "cipd_bin_packages/cpython3",
          "version": "version:2@3.8.10.chromium.19"
        },
        {
          "name": "infra/3pp/tools/git/linux-amd64",
          "path": "cipd_bin_packages",
          "version": "version:2@2.36.0-rc2.chromium.8"
        },
        {
          "name": "infra/tools/git/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:34ecdc8775563915792e05ba9d921342808ae2dc"
        },
        {
          "name": "infra/tools/luci/git-credential-luci/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:34ecdc8775563915792e05ba9d921342808ae2dc"
        },
        {
          "name": "infra/tools/luci/vpython-native/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:34ecdc8775563915792e05ba9d921342808ae2dc"
        },
        {
          "name": "infra/tools/luci/vpython/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:34ecdc8775563915792e05ba9d921342808ae2dc"
        },
        {
          "name": "skia/bots/go",
          "path": "go",
          "version": "version:16"
        },
        {
          "name": "skia/bots/node",
          "path": "node",
          "version": "version:2"
        }
      ],
      "command": [
        "./infra_tests",
        "--project_id",
        "skia-swarming-bots",
        "--task_id",
        "<(TASK_ID)",
        "--task_name",
        "Infra-Experimental-Small-Linux",
        "--workdir",
        "."
      ],
      "dependencies": [
        "Housekeeper-PerCommit-BuildTaskDrivers-Linux-x86_64"
      ],
      "dimensions": [
        "pool:Skia",
        "os:Debian-10.3",
        "gpu:none",
        "cpu:x86-64-Haswell_GCE",
        "machine_type:n1-standard-16",
        "docker_installed:true"
      ],
      "env_prefixes": {
        "PATH": [
          "cipd_bin_packages",
          "cipd_bin_packages/bin",
          "cipd_bin_packages/cpython3",
          "cipd_bin_packages/cpython3/bin",
          "go/go/bin"
        ]
      },
      "service_account": "skia-external-compile-tasks@skia-swarming-bots.iam.gserviceaccount.com"
    },
    "Infra-Experimental-Small-Win": {
      "caches": [
        {
          "name": "go_cache",
          "path": "cache/go_cache"
        },
        {
          "name": "gopath",
          "path": "cache/gopath"
        }
      ],
      "casSpec": "whole-repo",
      "cipd_packages": [
        {
          "name": "infra/3pp/tools/cpython3/windows-amd64",
          "path": "cipd_bin_packages/cpython3",
          "version": "version:2@3.8.10.chromium.19"
        },
        {
          "name": "infra/3pp/tools/git/windows-amd64",
          "path": "cipd_bin_packages",
          "version": "version:2@2.35.3.chromium.8"
        },
        {
          "name": "infra/tools/git/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:34ecdc8775563915792e05ba9d921342808ae2dc"
        },
        {
          "name": "infra/tools/luci/git-credential-luci/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:34ecdc8775563915792e05ba9d921342808ae2dc"
        },
        {
          "name": "infra/tools/luci/vpython-native/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:34ecdc8775563915792e05ba9d921342808ae2dc"
        },
        {
          "name": "infra/tools/luci/vpython/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:34ecdc8775563915792e05ba9d921342808ae2dc"
        },
        {
          "name": "skia/bots/go_win",
          "path": "go",
          "version": "version:4"
        },
        {
          "name": "skia/bots/node",
          "path": "node",
          "version": "version:2"
        }
      ],
      "command": [
        "./infra_tests",
        "--project_id",
        "skia-swarming-bots",
        "--task_id",
        "<(TASK_ID)",
        "--task_name",
        "Infra-Experimental-Small-Win",
        "--workdir",
        "."
      ],
      "dependencies": [
        "Housekeeper-PerCommit-BuildTaskDrivers-Win-x86_64"
      ],
      "dimensions": [
        "pool:Skia",
        "os:Windows-Server-17763",
        "gpu:none",
        "cpu:x86-64-Haswell_GCE",
        "machine_type:n1-standard-16"
      ],
      "env_prefixes": {
        "PATH": [
          "cipd_bin_packages",
          "cipd_bin_packages/bin",
          "cipd_bin_packages/cpython3",
          "cipd_bin_packages/cpython3/bin",
          "go/go/bin"
        ]
      },
      "service_account": "skia-external-compile-tasks@skia-swarming-bots.iam.gserviceaccount.com"
    },
    "Infra-PerCommit-Build-Bazel-Local": {
      "casSpec": "empty",
      "cipd_packages": [
        {
          "name": "infra/3pp/tools/git/linux-amd64",
          "path": "cipd_bin_packages",
          "version": "version:2@2.36.0-rc2.chromium.8"
        },
        {
          "name": "infra/tools/git/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:34ecdc8775563915792e05ba9d921342808ae2dc"
        },
        {
          "name": "infra/tools/luci/git-credential-luci/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:34ecdc8775563915792e05ba9d921342808ae2dc"
        },
        {
          "name": "skia/bots/bazelisk",
          "path": "bazelisk",
          "version": "version:0"
        }
      ],
      "command": [
        "./bazel_build_all",
        "--project_id",
        "skia-swarming-bots",
        "--task_id",
        "<(TASK_ID)",
        "--task_name",
        "Infra-PerCommit-Build-Bazel-Local",
        "--workdir",
        ".",
        "--repo",
        "<(REPO)",
        "--revision",
        "<(REVISION)",
        "--patch_issue",
        "<(ISSUE)",
        "--patch_set",
        "<(PATCHSET)",
        "--patch_server",
        "<(CODEREVIEW_SERVER)"
      ],
      "dependencies": [
        "Housekeeper-PerCommit-BuildTaskDrivers-Linux-x86_64"
      ],
      "dimensions": [
        "pool:Skia",
        "os:Debian-10.3",
        "gpu:none",
        "cpu:x86-64-Haswell_GCE",
        "machine_type:n1-highcpu-64",
        "docker_installed:true"
      ],
      "env_prefixes": {
        "PATH": [
          "cipd_bin_packages",
          "bazelisk"
        ]
      },
      "service_account": "skia-external-compile-tasks@skia-swarming-bots.iam.gserviceaccount.com"
    },
    "Infra-PerCommit-Build-Bazel-RBE": {
      "casSpec": "empty",
      "cipd_packages": [
        {
          "name": "infra/3pp/tools/git/linux-amd64",
          "path": "cipd_bin_packages",
          "version": "version:2@2.36.0-rc2.chromium.8"
        },
        {
          "name": "infra/tools/git/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:34ecdc8775563915792e05ba9d921342808ae2dc"
        },
        {
          "name": "infra/tools/luci/git-credential-luci/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:34ecdc8775563915792e05ba9d921342808ae2dc"
        },
        {
          "name": "skia/bots/bazelisk",
          "path": "bazelisk",
          "version": "version:0"
        }
      ],
      "command": [
        "./bazel_build_all",
        "--project_id",
        "skia-swarming-bots",
        "--task_id",
        "<(TASK_ID)",
        "--task_name",
        "Infra-PerCommit-Build-Bazel-RBE",
        "--workdir",
        ".",
        "--repo",
        "<(REPO)",
        "--revision",
        "<(REVISION)",
        "--patch_issue",
        "<(ISSUE)",
        "--patch_set",
        "<(PATCHSET)",
        "--patch_server",
        "<(CODEREVIEW_SERVER)",
        "--rbe"
      ],
      "dependencies": [
        "Housekeeper-PerCommit-BuildTaskDrivers-Linux-x86_64"
      ],
      "dimensions": [
        "pool:Skia",
        "os:Debian-10.3",
        "gpu:none",
        "cpu:x86-64-Haswell_GCE",
        "machine_type:n1-highcpu-64",
        "docker_installed:true"
      ],
      "env_prefixes": {
        "PATH": [
          "cipd_bin_packages",
          "bazelisk"
        ]
      },
      "service_account": "skia-external-compile-tasks@skia-swarming-bots.iam.gserviceaccount.com"
    },
    "Infra-PerCommit-Test-Bazel-Local": {
      "casSpec": "empty",
      "cipd_packages": [
        {
          "name": "infra/3pp/tools/git/linux-amd64",
          "path": "cipd_bin_packages",
          "version": "version:2@2.36.0-rc2.chromium.8"
        },
        {
          "name": "infra/tools/git/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:34ecdc8775563915792e05ba9d921342808ae2dc"
        },
        {
          "name": "infra/tools/luci/git-credential-luci/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:34ecdc8775563915792e05ba9d921342808ae2dc"
        },
        {
          "name": "infra/tools/luci/isolate/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:34ecdc8775563915792e05ba9d921342808ae2dc"
        },
        {
          "name": "infra/tools/luci/isolated/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:dc3a3dc4272aeef30698752d137ccd4f09526d69"
        },
        {
          "name": "skia/bots/bazelisk",
          "path": "bazelisk",
          "version": "version:0"
        }
      ],
      "command": [
        "./bazel_test_all",
        "--project_id",
        "skia-swarming-bots",
        "--task_id",
        "<(TASK_ID)",
        "--task_name",
        "Infra-PerCommit-Test-Bazel-Local",
        "--workdir",
        ".",
        "--repo",
        "<(REPO)",
        "--revision",
        "<(REVISION)",
        "--patch_issue",
        "<(ISSUE)",
        "--patch_set",
        "<(PATCHSET)",
        "--patch_server",
        "<(CODEREVIEW_SERVER)",
        "--buildbucket_build_id",
        "<(BUILDBUCKET_BUILD_ID)"
      ],
      "dependencies": [
        "Housekeeper-PerCommit-BuildTaskDrivers-Linux-x86_64"
      ],
      "dimensions": [
        "pool:Skia",
        "os:Debian-10.3",
        "gpu:none",
        "cpu:x86-64-Haswell_GCE",
        "machine_type:n1-highcpu-64",
        "docker_installed:true"
      ],
      "env_prefixes": {
        "PATH": [
          "cipd_bin_packages",
          "bazelisk"
        ]
      },
      "service_account": "skia-external-compile-tasks@skia-swarming-bots.iam.gserviceaccount.com"
    },
    "Infra-PerCommit-Test-Bazel-RBE": {
      "casSpec": "empty",
      "cipd_packages": [
        {
          "name": "infra/3pp/tools/git/linux-amd64",
          "path": "cipd_bin_packages",
          "version": "version:2@2.36.0-rc2.chromium.8"
        },
        {
          "name": "infra/tools/git/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:34ecdc8775563915792e05ba9d921342808ae2dc"
        },
        {
          "name": "infra/tools/luci/git-credential-luci/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:34ecdc8775563915792e05ba9d921342808ae2dc"
        },
        {
          "name": "infra/tools/luci/isolate/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:34ecdc8775563915792e05ba9d921342808ae2dc"
        },
        {
          "name": "infra/tools/luci/isolated/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:dc3a3dc4272aeef30698752d137ccd4f09526d69"
        },
        {
          "name": "skia/bots/bazelisk",
          "path": "bazelisk",
          "version": "version:0"
        }
      ],
      "command": [
        "./bazel_test_all",
        "--project_id",
        "skia-swarming-bots",
        "--task_id",
        "<(TASK_ID)",
        "--task_name",
        "Infra-PerCommit-Test-Bazel-RBE",
        "--workdir",
        ".",
        "--repo",
        "<(REPO)",
        "--revision",
        "<(REVISION)",
        "--patch_issue",
        "<(ISSUE)",
        "--patch_set",
        "<(PATCHSET)",
        "--patch_server",
        "<(CODEREVIEW_SERVER)",
        "--buildbucket_build_id",
        "<(BUILDBUCKET_BUILD_ID)",
        "--rbe"
      ],
      "dependencies": [
        "Housekeeper-PerCommit-BuildTaskDrivers-Linux-x86_64"
      ],
      "dimensions": [
        "pool:Skia",
        "os:Debian-10.3",
        "gpu:none",
        "cpu:x86-64-Haswell_GCE",
        "machine_type:n1-highcpu-64",
        "docker_installed:true"
      ],
      "env_prefixes": {
        "PATH": [
          "cipd_bin_packages",
          "bazelisk"
        ]
      },
      "service_account": "skia-external-compile-tasks@skia-swarming-bots.iam.gserviceaccount.com"
    }
  },
  "casSpecs": {
    "autoroll-configs": {
      "root": ".",
      "paths": [
        "autoroll/config"
      ]
    },
    "empty": {
      "digest": "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855/0"
    },
    "whole-repo": {
      "root": "..",
      "paths": [
        "buildbot"
      ],
      "excludes": [
        "^(.*\\/)*\\.git(\\/.*)*$"
      ]
    }
  },
  "commit_queue": {
    "Housekeeper-OnDemand-Presubmit": {},
    "Infra-PerCommit-Build-Bazel-RBE": {},
    "Infra-PerCommit-Test-Bazel-RBE": {}
  }
}
