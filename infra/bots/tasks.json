{
  "jobs": {
    "Housekeeper-Nightly-UpdateGoDeps": {
      "tasks": [
        "Housekeeper-Nightly-UpdateGoDeps"
      ],
      "trigger": "nightly"
    },
    "Housekeeper-OnDemand-Presubmit": {
      "priority": 1,
      "tasks": [
        "Housekeeper-OnDemand-Presubmit"
      ],
      "trigger": "on demand"
    },
    "Housekeeper-Weekly-UpdateCIPDPackages": {
      "tasks": [
        "Housekeeper-Weekly-UpdateCIPDPackages"
      ],
      "trigger": "weekly"
    },
    "Infra-Experimental-Small-Linux": {
      "tasks": [
        "Infra-Experimental-Small-Linux"
      ]
    },
    "Infra-Experimental-Small-Win": {
      "tasks": [
        "Infra-Experimental-Small-Win"
      ]
    },
    "Infra-PerCommit-Build": {
      "tasks": [
        "Infra-PerCommit-Build"
      ]
    },
    "Infra-PerCommit-CreateDockerImage": {
      "tasks": [
        "Infra-PerCommit-CreateDockerImage"
      ]
    },
    "Infra-PerCommit-Large": {
      "tasks": [
        "Infra-PerCommit-Large"
      ]
    },
    "Infra-PerCommit-Medium": {
      "tasks": [
        "Infra-PerCommit-Medium"
      ]
    },
    "Infra-PerCommit-Puppeteer": {
      "tasks": [
        "Infra-PerCommit-Puppeteer"
      ]
    },
    "Infra-PerCommit-PushAppsFromInfraDockerImage": {
      "tasks": [
        "Infra-PerCommit-PushAppsFromInfraDockerImage"
      ]
    },
    "Infra-PerCommit-Race": {
      "tasks": [
        "Infra-PerCommit-Race"
      ]
    },
    "Infra-PerCommit-Small": {
      "tasks": [
        "Infra-PerCommit-Small"
      ]
    },
    "Infra-PerCommit-ValidateAutorollConfigs": {
      "tasks": [
        "Infra-PerCommit-ValidateAutorollConfigs"
      ]
    }
  },
  "tasks": {
    "Housekeeper-Nightly-UpdateGoDeps": {
      "caches": [
        {
          "name": "go_cache",
          "path": "cache/go_cache"
        },
        {
          "name": "gopath",
          "path": "cache/gopath"
        }
      ],
      "casSpec": "empty",
      "cipd_packages": [
        {
          "name": "infra/3pp/tools/git/linux-amd64",
          "path": "cipd_bin_packages",
          "version": "version:2.29.2.chromium.6"
        },
        {
          "name": "infra/tools/git/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/git-credential-luci/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "skia/bots/go",
          "path": "go",
          "version": "version:9"
        },
        {
          "name": "skia/bots/protoc",
          "path": "protoc",
          "version": "version:0"
        }
      ],
      "command": [
        "./update_go_deps",
        "--project_id",
        "skia-swarming-bots",
        "--task_id",
        "<(TASK_ID)",
        "--task_name",
        "Housekeeper-Nightly-UpdateGoDeps",
        "--workdir",
        ".",
        "--gerrit_project",
        "buildbot",
        "--gerrit_url",
        "https://skia-review.googlesource.com",
        "--repo",
        "<(REPO)",
        "--revision",
        "<(REVISION)",
        "--patch_issue",
        "<(ISSUE)",
        "--patch_set",
        "<(PATCHSET)",
        "--patch_server",
        "<(CODEREVIEW_SERVER)",
        "--alsologtostderr"
      ],
      "dependencies": [
        "Housekeeper-PerCommit-BuildTaskDrivers-Linux-x86_64"
      ],
      "dimensions": [
        "pool:Skia",
        "os:Debian-10.3",
        "gpu:none",
        "cpu:x86-64-Haswell_GCE",
        "machine_type:n1-standard-16",
        "docker_installed:true"
      ],
      "env_prefixes": {
        "PATH": [
          "cipd_bin_packages",
          "cipd_bin_packages/bin",
          "go/go/bin"
        ]
      },
      "service_account": "skia-recreate-skps@skia-swarming-bots.iam.gserviceaccount.com"
    },
    "Housekeeper-OnDemand-Presubmit": {
      "caches": [
        {
          "name": "git",
          "path": "cache/git"
        },
        {
          "name": "git_cache",
          "path": "cache/git_cache"
        },
        {
          "name": "vpython",
          "path": "cache/vpython"
        }
      ],
      "casSpec": "run-recipe",
      "cipd_packages": [
        {
          "name": "infra/3pp/tools/cpython/${platform}",
          "path": "cipd_bin_packages",
          "version": "version:2.7.18.chromium.29"
        },
        {
          "name": "infra/3pp/tools/git/linux-amd64",
          "path": "cipd_bin_packages",
          "version": "version:2.29.2.chromium.6"
        },
        {
          "name": "infra/recipe_bundles/chromium.googlesource.com/chromium/tools/build",
          "path": "recipe_bundle",
          "version": "git_revision:57b025298deb13e7af1ce0bc07bab76716e076ff"
        },
        {
          "name": "infra/tools/git/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci-auth/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/git-credential-luci/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/kitchen/${platform}",
          "path": ".",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/vpython/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        }
      ],
      "command": [
        "cipd_bin_packages/vpython${EXECUTABLE_SUFFIX}",
        "-u",
        "buildbot/infra/bots/run_recipe.py",
        "${ISOLATED_OUTDIR}",
        "run_presubmit",
        "{\"$kitchen\":{\"devshell\":true,\"git_auth\":true},\"buildbucket_build_id\":\"<(BUILDBUCKET_BUILD_ID)\",\"buildername\":\"Housekeeper-OnDemand-Presubmit\",\"category\":\"cq\",\"patch_gerrit_url\":\"https://skia-review.googlesource.com\",\"patch_issue\":\"<(ISSUE_INT)\",\"patch_project\":\"buildbot\",\"patch_ref\":\"<(PATCH_REF)\",\"patch_repo\":\"<(PATCH_REPO)\",\"patch_set\":\"<(PATCHSET_INT)\",\"patch_storage\":\"<(PATCH_STORAGE)\",\"reason\":\"CQ\",\"repo_name\":\"skia_buildbot\",\"repository\":\"<(REPO)\",\"revision\":\"<(REVISION)\",\"swarm_out_dir\":\"${ISOLATED_OUTDIR}\",\"task_id\":\"<(TASK_ID)\"}",
        "skia"
      ],
      "dimensions": [
        "pool:Skia",
        "os:Debian-10.3",
        "gpu:none",
        "cpu:x86-64-Haswell_GCE",
        "machine_type:n1-standard-16",
        "docker_installed:true"
      ],
      "env_prefixes": {
        "PATH": [
          "cipd_bin_packages",
          "cipd_bin_packages/bin"
        ],
        "VPYTHON_VIRTUALENV_ROOT": [
          "${cache_dir}/vpython"
        ]
      },
      "extra_tags": {
        "log_location": "logdog://logs.chromium.org/skia/${SWARMING_TASK_ID}/+/annotations"
      },
      "service_account": "skia-external-compile-tasks@skia-swarming-bots.iam.gserviceaccount.com"
    },
    "Housekeeper-PerCommit-BuildTaskDrivers-Linux-x86_64": {
      "caches": [
        {
          "name": "go_cache",
          "path": "cache/go_cache"
        },
        {
          "name": "gopath",
          "path": "cache/gopath"
        }
      ],
      "casSpec": "whole-repo",
      "cipd_packages": [
        {
          "name": "infra/3pp/tools/git/linux-amd64",
          "path": "cipd_bin_packages",
          "version": "version:2.29.2.chromium.6"
        },
        {
          "name": "infra/tools/git/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/git-credential-luci/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "skia/bots/go",
          "path": "go",
          "version": "version:9"
        }
      ],
      "command": [
        "/bin/bash",
        "buildbot/infra/bots/build_task_drivers.sh",
        "${ISOLATED_OUTDIR}"
      ],
      "dimensions": [
        "pool:Skia",
        "os:Debian-10.3",
        "gpu:none",
        "cpu:x86-64-Haswell_GCE",
        "machine_type:n1-highmem-2",
        "docker_installed:true"
      ],
      "environment": {
        "GOARCH": "amd64",
        "GOOS": "linux"
      },
      "env_prefixes": {
        "PATH": [
          "cipd_bin_packages",
          "cipd_bin_packages/bin",
          "go/go/bin"
        ]
      },
      "idempotent": true
    },
    "Housekeeper-PerCommit-BuildTaskDrivers-Win-x86_64": {
      "caches": [
        {
          "name": "go_cache",
          "path": "cache/go_cache"
        },
        {
          "name": "gopath",
          "path": "cache/gopath"
        }
      ],
      "casSpec": "whole-repo",
      "cipd_packages": [
        {
          "name": "infra/3pp/tools/git/linux-amd64",
          "path": "cipd_bin_packages",
          "version": "version:2.29.2.chromium.6"
        },
        {
          "name": "infra/tools/git/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/git-credential-luci/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "skia/bots/go",
          "path": "go",
          "version": "version:9"
        }
      ],
      "command": [
        "/bin/bash",
        "buildbot/infra/bots/build_task_drivers.sh",
        "${ISOLATED_OUTDIR}"
      ],
      "dimensions": [
        "pool:Skia",
        "os:Debian-10.3",
        "gpu:none",
        "cpu:x86-64-Haswell_GCE",
        "machine_type:n1-highmem-2",
        "docker_installed:true"
      ],
      "environment": {
        "GOARCH": "amd64",
        "GOOS": "windows"
      },
      "env_prefixes": {
        "PATH": [
          "cipd_bin_packages",
          "cipd_bin_packages/bin",
          "go/go/bin"
        ]
      },
      "idempotent": true
    },
    "Housekeeper-PerCommit-BundleRecipes": {
      "casSpec": "recipes",
      "cipd_packages": [
        {
          "name": "infra/3pp/tools/cpython/${platform}",
          "path": "cipd_bin_packages",
          "version": "version:2.7.18.chromium.29"
        },
        {
          "name": "infra/3pp/tools/git/linux-amd64",
          "path": "cipd_bin_packages",
          "version": "version:2.29.2.chromium.6"
        },
        {
          "name": "infra/tools/git/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/git-credential-luci/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/vpython/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        }
      ],
      "command": [
        "/bin/bash",
        "buildbot/infra/bots/bundle_recipes.sh",
        "${ISOLATED_OUTDIR}"
      ],
      "dimensions": [
        "pool:Skia",
        "os:Debian-10.3",
        "gpu:none",
        "cpu:x86-64-Haswell_GCE",
        "machine_type:n1-highmem-2",
        "docker_installed:true"
      ],
      "env_prefixes": {
        "PATH": [
          "cipd_bin_packages",
          "cipd_bin_packages/bin"
        ]
      },
      "idempotent": true
    },
    "Housekeeper-Weekly-UpdateCIPDPackages": {
      "caches": [
        {
          "name": "go_cache",
          "path": "cache/go_cache"
        },
        {
          "name": "gopath",
          "path": "cache/gopath"
        }
      ],
      "casSpec": "empty",
      "cipd_packages": [
        {
          "name": "infra/3pp/tools/git/linux-amd64",
          "path": "cipd_bin_packages",
          "version": "version:2.29.2.chromium.6"
        },
        {
          "name": "infra/tools/git/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/git-credential-luci/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "skia/bots/go",
          "path": "go",
          "version": "version:9"
        },
        {
          "name": "skia/bots/protoc",
          "path": "protoc",
          "version": "version:0"
        }
      ],
      "command": [
        "./roll_cipd_packages",
        "--project_id",
        "skia-swarming-bots",
        "--task_id",
        "<(TASK_ID)",
        "--task_name",
        "Housekeeper-Weekly-UpdateCIPDPackages",
        "--workdir",
        ".",
        "--gerrit_project",
        "buildbot",
        "--gerrit_url",
        "https://skia-review.googlesource.com",
        "--repo",
        "<(REPO)",
        "--revision",
        "<(REVISION)",
        "--patch_issue",
        "<(ISSUE)",
        "--patch_set",
        "<(PATCHSET)",
        "--patch_server",
        "<(CODEREVIEW_SERVER)",
        "--alsologtostderr"
      ],
      "dependencies": [
        "Housekeeper-PerCommit-BuildTaskDrivers-Linux-x86_64"
      ],
      "dimensions": [
        "pool:Skia",
        "os:Debian-10.3",
        "gpu:none",
        "cpu:x86-64-Haswell_GCE",
        "machine_type:n1-standard-16",
        "docker_installed:true"
      ],
      "env_prefixes": {
        "PATH": [
          "cipd_bin_packages",
          "cipd_bin_packages/bin",
          "go/go/bin"
        ]
      },
      "service_account": "skia-recreate-skps@skia-swarming-bots.iam.gserviceaccount.com"
    },
    "Infra-Experimental-Small-Linux": {
      "caches": [
        {
          "name": "go_cache",
          "path": "cache/go_cache"
        },
        {
          "name": "gopath",
          "path": "cache/gopath"
        }
      ],
      "casSpec": "whole-repo",
      "cipd_packages": [
        {
          "name": "infra/3pp/tools/cpython/${platform}",
          "path": "cipd_bin_packages",
          "version": "version:2.7.18.chromium.29"
        },
        {
          "name": "infra/3pp/tools/git/linux-amd64",
          "path": "cipd_bin_packages",
          "version": "version:2.29.2.chromium.6"
        },
        {
          "name": "infra/gsutil",
          "path": "cipd_bin_packages",
          "version": "version:4.46"
        },
        {
          "name": "infra/tools/git/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/git-credential-luci/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/vpython/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "skia/bots/go",
          "path": "go",
          "version": "version:9"
        },
        {
          "name": "skia/bots/node",
          "path": "node",
          "version": "version:2"
        }
      ],
      "command": [
        "./infra_tests",
        "--project_id",
        "skia-swarming-bots",
        "--task_id",
        "<(TASK_ID)",
        "--task_name",
        "Infra-Experimental-Small-Linux",
        "--workdir",
        ".",
        "--alsologtostderr"
      ],
      "dependencies": [
        "Housekeeper-PerCommit-BuildTaskDrivers-Linux-x86_64"
      ],
      "dimensions": [
        "pool:Skia",
        "os:Debian-10.3",
        "gpu:none",
        "cpu:x86-64-Haswell_GCE",
        "machine_type:n1-standard-16",
        "docker_installed:true"
      ],
      "env_prefixes": {
        "PATH": [
          "cipd_bin_packages",
          "cipd_bin_packages/bin",
          "go/go/bin"
        ]
      },
      "service_account": "skia-external-compile-tasks@skia-swarming-bots.iam.gserviceaccount.com"
    },
    "Infra-Experimental-Small-Win": {
      "caches": [
        {
          "name": "go_cache",
          "path": "cache/go_cache"
        },
        {
          "name": "gopath",
          "path": "cache/gopath"
        }
      ],
      "casSpec": "whole-repo",
      "cipd_packages": [
        {
          "name": "infra/3pp/tools/cpython/${platform}",
          "path": "cipd_bin_packages",
          "version": "version:2.7.18.chromium.29"
        },
        {
          "name": "infra/3pp/tools/git/windows-amd64",
          "path": "cipd_bin_packages",
          "version": "version:2.29.2.chromium.6"
        },
        {
          "name": "infra/gsutil",
          "path": "cipd_bin_packages",
          "version": "version:4.46"
        },
        {
          "name": "infra/tools/git/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/git-credential-luci/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/vpython/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "skia/bots/go_win",
          "path": "go",
          "version": "version:2"
        },
        {
          "name": "skia/bots/node",
          "path": "node",
          "version": "version:2"
        }
      ],
      "command": [
        "./infra_tests",
        "--project_id",
        "skia-swarming-bots",
        "--task_id",
        "<(TASK_ID)",
        "--task_name",
        "Infra-Experimental-Small-Win",
        "--workdir",
        ".",
        "--alsologtostderr"
      ],
      "dependencies": [
        "Housekeeper-PerCommit-BuildTaskDrivers-Win-x86_64"
      ],
      "dimensions": [
        "pool:Skia",
        "os:Windows-Server-17763",
        "gpu:none",
        "cpu:x86-64-Haswell_GCE",
        "machine_type:n1-standard-16"
      ],
      "env_prefixes": {
        "PATH": [
          "cipd_bin_packages",
          "cipd_bin_packages/bin",
          "go/go/bin"
        ]
      },
      "service_account": "skia-external-compile-tasks@skia-swarming-bots.iam.gserviceaccount.com"
    },
    "Infra-PerCommit-Build": {
      "caches": [
        {
          "name": "go_cache",
          "path": "cache/go_cache"
        },
        {
          "name": "gopath",
          "path": "cache/gopath"
        },
        {
          "name": "vpython",
          "path": "cache/vpython"
        }
      ],
      "casSpec": "whole-repo",
      "cipd_packages": [
        {
          "name": "infra/3pp/tools/cpython/${platform}",
          "path": "cipd_bin_packages",
          "version": "version:2.7.18.chromium.29"
        },
        {
          "name": "infra/3pp/tools/git/linux-amd64",
          "path": "cipd_bin_packages",
          "version": "version:2.29.2.chromium.6"
        },
        {
          "name": "infra/gsutil",
          "path": "cipd_bin_packages",
          "version": "version:4.46"
        },
        {
          "name": "infra/tools/git/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci-auth/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/git-credential-luci/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/kitchen/${platform}",
          "path": ".",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/vpython/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "skia/bots/go",
          "path": "go",
          "version": "version:9"
        },
        {
          "name": "skia/bots/node",
          "path": "node",
          "version": "version:2"
        },
        {
          "name": "skia/bots/protoc",
          "path": "protoc",
          "version": "version:0"
        }
      ],
      "command": [
        "cipd_bin_packages/vpython${EXECUTABLE_SUFFIX}",
        "-u",
        "buildbot/infra/bots/run_recipe.py",
        "${ISOLATED_OUTDIR}",
        "swarm_infra",
        "{\"$kitchen\":{\"devshell\":true,\"git_auth\":true},\"buildername\":\"Infra-PerCommit-Build\",\"swarm_out_dir\":\"${ISOLATED_OUTDIR}\"}",
        "skia"
      ],
      "dependencies": [
        "Housekeeper-PerCommit-BundleRecipes"
      ],
      "dimensions": [
        "pool:Skia",
        "os:Debian-10.3",
        "gpu:none",
        "cpu:x86-64-Haswell_GCE",
        "machine_type:n1-standard-16",
        "docker_installed:true"
      ],
      "env_prefixes": {
        "PATH": [
          "cipd_bin_packages",
          "cipd_bin_packages/bin"
        ],
        "VPYTHON_VIRTUALENV_ROOT": [
          "${cache_dir}/vpython"
        ]
      },
      "extra_tags": {
        "log_location": "logdog://logs.chromium.org/skia/${SWARMING_TASK_ID}/+/annotations"
      },
      "max_attempts": 2,
      "service_account": "skia-external-compile-tasks@skia-swarming-bots.iam.gserviceaccount.com"
    },
    "Infra-PerCommit-CreateDockerImage": {
      "caches": [
        {
          "name": "docker",
          "path": "cache/docker"
        },
        {
          "name": "go_cache",
          "path": "cache/go_cache"
        },
        {
          "name": "gopath",
          "path": "cache/gopath"
        }
      ],
      "casSpec": "empty",
      "cipd_packages": [
        {
          "name": "infra/3pp/tools/git/linux-amd64",
          "path": "cipd_bin_packages",
          "version": "version:2.29.2.chromium.6"
        },
        {
          "name": "infra/tools/git/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/git-credential-luci/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "skia/bots/go",
          "path": "go",
          "version": "version:9"
        },
        {
          "name": "skia/bots/protoc",
          "path": "protoc",
          "version": "version:0"
        }
      ],
      "command": [
        "./build_push_docker_image",
        "--image_name",
        "gcr.io/skia-public/infra",
        "--dockerfile_dir",
        "docker",
        "--project_id",
        "skia-swarming-bots",
        "--task_id",
        "<(TASK_ID)",
        "--task_name",
        "Infra-PerCommit-CreateDockerImage",
        "--workdir",
        ".",
        "--gerrit_project",
        "buildbot",
        "--gerrit_url",
        "https://skia-review.googlesource.com",
        "--repo",
        "<(REPO)",
        "--revision",
        "<(REVISION)",
        "--patch_issue",
        "<(ISSUE)",
        "--patch_set",
        "<(PATCHSET)",
        "--patch_server",
        "<(CODEREVIEW_SERVER)",
        "--swarm_out_dir",
        "${ISOLATED_OUTDIR}",
        "--alsologtostderr"
      ],
      "dependencies": [
        "Housekeeper-PerCommit-BuildTaskDrivers-Linux-x86_64"
      ],
      "dimensions": [
        "pool:Skia",
        "os:Debian-10.3",
        "gpu:none",
        "cpu:x86-64-Haswell_GCE",
        "machine_type:n1-standard-16",
        "docker_installed:true"
      ],
      "env_prefixes": {
        "PATH": [
          "cipd_bin_packages",
          "cipd_bin_packages/bin",
          "go/go/bin"
        ]
      },
      "service_account": "skia-external-compile-tasks@skia-swarming-bots.iam.gserviceaccount.com"
    },
    "Infra-PerCommit-Large": {
      "caches": [
        {
          "name": "go_cache",
          "path": "cache/go_cache"
        },
        {
          "name": "gopath",
          "path": "cache/gopath"
        },
        {
          "name": "vpython",
          "path": "cache/vpython"
        }
      ],
      "casSpec": "whole-repo",
      "cipd_packages": [
        {
          "name": "infra/3pp/tools/cpython/${platform}",
          "path": "cipd_bin_packages",
          "version": "version:2.7.18.chromium.29"
        },
        {
          "name": "infra/3pp/tools/git/linux-amd64",
          "path": "cipd_bin_packages",
          "version": "version:2.29.2.chromium.6"
        },
        {
          "name": "infra/gsutil",
          "path": "cipd_bin_packages",
          "version": "version:4.46"
        },
        {
          "name": "infra/tools/git/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci-auth/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/git-credential-luci/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/isolate/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/isolated/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/kitchen/${platform}",
          "path": ".",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/vpython/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "skia/bots/cockroachdb",
          "path": "cockroachdb",
          "version": "version:3"
        },
        {
          "name": "skia/bots/gcloud_linux",
          "path": "gcloud_linux",
          "version": "version:14"
        },
        {
          "name": "skia/bots/go",
          "path": "go",
          "version": "version:9"
        },
        {
          "name": "skia/bots/node",
          "path": "node",
          "version": "version:2"
        },
        {
          "name": "skia/bots/protoc",
          "path": "protoc",
          "version": "version:0"
        }
      ],
      "command": [
        "cipd_bin_packages/vpython${EXECUTABLE_SUFFIX}",
        "-u",
        "buildbot/infra/bots/run_recipe.py",
        "${ISOLATED_OUTDIR}",
        "swarm_infra",
        "{\"$kitchen\":{\"devshell\":true,\"git_auth\":true},\"buildername\":\"Infra-PerCommit-Large\",\"swarm_out_dir\":\"${ISOLATED_OUTDIR}\"}",
        "skia"
      ],
      "dependencies": [
        "Housekeeper-PerCommit-BundleRecipes"
      ],
      "dimensions": [
        "pool:Skia",
        "os:Debian-10.3",
        "gpu:none",
        "cpu:x86-64-Haswell_GCE",
        "machine_type:n1-highcpu-64",
        "docker_installed:true"
      ],
      "env_prefixes": {
        "PATH": [
          "cipd_bin_packages",
          "cipd_bin_packages/bin"
        ],
        "VPYTHON_VIRTUALENV_ROOT": [
          "${cache_dir}/vpython"
        ]
      },
      "extra_tags": {
        "log_location": "logdog://logs.chromium.org/skia/${SWARMING_TASK_ID}/+/annotations"
      },
      "max_attempts": 2,
      "service_account": "skia-external-compile-tasks@skia-swarming-bots.iam.gserviceaccount.com"
    },
    "Infra-PerCommit-Medium": {
      "caches": [
        {
          "name": "go_cache",
          "path": "cache/go_cache"
        },
        {
          "name": "gopath",
          "path": "cache/gopath"
        },
        {
          "name": "vpython",
          "path": "cache/vpython"
        }
      ],
      "casSpec": "whole-repo",
      "cipd_packages": [
        {
          "name": "infra/3pp/tools/cpython/${platform}",
          "path": "cipd_bin_packages",
          "version": "version:2.7.18.chromium.29"
        },
        {
          "name": "infra/3pp/tools/git/linux-amd64",
          "path": "cipd_bin_packages",
          "version": "version:2.29.2.chromium.6"
        },
        {
          "name": "infra/gsutil",
          "path": "cipd_bin_packages",
          "version": "version:4.46"
        },
        {
          "name": "infra/tools/git/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci-auth/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/git-credential-luci/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/kitchen/${platform}",
          "path": ".",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/vpython/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "skia/bots/go",
          "path": "go",
          "version": "version:9"
        },
        {
          "name": "skia/bots/node",
          "path": "node",
          "version": "version:2"
        }
      ],
      "command": [
        "cipd_bin_packages/vpython${EXECUTABLE_SUFFIX}",
        "-u",
        "buildbot/infra/bots/run_recipe.py",
        "${ISOLATED_OUTDIR}",
        "swarm_infra",
        "{\"$kitchen\":{\"devshell\":true,\"git_auth\":true},\"buildername\":\"Infra-PerCommit-Medium\",\"swarm_out_dir\":\"${ISOLATED_OUTDIR}\"}",
        "skia"
      ],
      "dependencies": [
        "Housekeeper-PerCommit-BundleRecipes"
      ],
      "dimensions": [
        "pool:Skia",
        "os:Debian-10.3",
        "gpu:none",
        "cpu:x86-64-Haswell_GCE",
        "machine_type:n1-standard-16",
        "docker_installed:true"
      ],
      "env_prefixes": {
        "PATH": [
          "cipd_bin_packages",
          "cipd_bin_packages/bin"
        ],
        "VPYTHON_VIRTUALENV_ROOT": [
          "${cache_dir}/vpython"
        ]
      },
      "extra_tags": {
        "log_location": "logdog://logs.chromium.org/skia/${SWARMING_TASK_ID}/+/annotations"
      },
      "max_attempts": 2,
      "service_account": "skia-external-compile-tasks@skia-swarming-bots.iam.gserviceaccount.com"
    },
    "Infra-PerCommit-Puppeteer": {
      "caches": [
        {
          "name": "go_cache",
          "path": "cache/go_cache"
        },
        {
          "name": "gopath",
          "path": "cache/gopath"
        },
        {
          "name": "vpython",
          "path": "cache/vpython"
        }
      ],
      "casSpec": "whole-repo",
      "cipd_packages": [
        {
          "name": "infra/3pp/tools/cpython/${platform}",
          "path": "cipd_bin_packages",
          "version": "version:2.7.18.chromium.29"
        },
        {
          "name": "infra/3pp/tools/git/linux-amd64",
          "path": "cipd_bin_packages",
          "version": "version:2.29.2.chromium.6"
        },
        {
          "name": "infra/gsutil",
          "path": "cipd_bin_packages",
          "version": "version:4.46"
        },
        {
          "name": "infra/tools/git/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci-auth/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/git-credential-luci/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/kitchen/${platform}",
          "path": ".",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/vpython/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "skia/bots/go",
          "path": "go",
          "version": "version:9"
        },
        {
          "name": "skia/bots/node",
          "path": "node",
          "version": "version:2"
        },
        {
          "name": "skia/tools/goldctl/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        }
      ],
      "command": [
        "cipd_bin_packages/vpython${EXECUTABLE_SUFFIX}",
        "-u",
        "buildbot/infra/bots/run_recipe.py",
        "${ISOLATED_OUTDIR}",
        "puppeteer_tests",
        "{\"$kitchen\":{\"devshell\":true,\"git_auth\":true},\"buildbucket_build_id\":\"<(BUILDBUCKET_BUILD_ID)\",\"buildername\":\"Infra-PerCommit-Puppeteer\",\"patch_issue\":\"<(ISSUE_INT)\",\"patch_ref\":\"<(PATCH_REF)\",\"patch_repo\":\"<(PATCH_REPO)\",\"patch_set\":\"<(PATCHSET_INT)\",\"patch_storage\":\"<(PATCH_STORAGE)\",\"repository\":\"<(REPO)\",\"revision\":\"<(REVISION)\",\"swarm_out_dir\":\"${ISOLATED_OUTDIR}\",\"task_id\":\"<(TASK_ID)\"}",
        "skia"
      ],
      "dependencies": [
        "Housekeeper-PerCommit-BundleRecipes"
      ],
      "dimensions": [
        "pool:Skia",
        "os:Debian-10.3",
        "gpu:none",
        "cpu:x86-64-Haswell_GCE",
        "machine_type:n1-standard-16",
        "docker_installed:true"
      ],
      "env_prefixes": {
        "PATH": [
          "cipd_bin_packages",
          "cipd_bin_packages/bin"
        ],
        "VPYTHON_VIRTUALENV_ROOT": [
          "${cache_dir}/vpython"
        ]
      },
      "extra_tags": {
        "log_location": "logdog://logs.chromium.org/skia/${SWARMING_TASK_ID}/+/annotations"
      },
      "max_attempts": 2,
      "service_account": "skia-external-compile-tasks@skia-swarming-bots.iam.gserviceaccount.com"
    },
    "Infra-PerCommit-PushAppsFromInfraDockerImage": {
      "caches": [
        {
          "name": "docker",
          "path": "cache/docker"
        },
        {
          "name": "go_cache",
          "path": "cache/go_cache"
        },
        {
          "name": "gopath",
          "path": "cache/gopath"
        }
      ],
      "casSpec": "empty",
      "cipd_packages": [
        {
          "name": "infra/3pp/tools/git/linux-amd64",
          "path": "cipd_bin_packages",
          "version": "version:2.29.2.chromium.6"
        },
        {
          "name": "infra/tools/git/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/git-credential-luci/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "skia/bots/go",
          "path": "go",
          "version": "version:9"
        },
        {
          "name": "skia/bots/protoc",
          "path": "protoc",
          "version": "version:0"
        }
      ],
      "command": [
        "./push_apps_from_infra_image",
        "--project_id",
        "skia-swarming-bots",
        "--task_id",
        "<(TASK_ID)",
        "--task_name",
        "Infra-PerCommit-PushAppsFromInfraDockerImage",
        "--workdir",
        ".",
        "--gerrit_project",
        "buildbot",
        "--gerrit_url",
        "https://skia-review.googlesource.com",
        "--repo",
        "<(REPO)",
        "--revision",
        "<(REVISION)",
        "--patch_issue",
        "<(ISSUE)",
        "--patch_set",
        "<(PATCHSET)",
        "--patch_server",
        "<(CODEREVIEW_SERVER)",
        "--alsologtostderr"
      ],
      "dependencies": [
        "Housekeeper-PerCommit-BuildTaskDrivers-Linux-x86_64",
        "Infra-PerCommit-CreateDockerImage"
      ],
      "dimensions": [
        "pool:Skia",
        "os:Debian-10.3",
        "gpu:none",
        "cpu:x86-64-Haswell_GCE",
        "machine_type:n1-standard-16",
        "docker_installed:true"
      ],
      "env_prefixes": {
        "PATH": [
          "cipd_bin_packages",
          "cipd_bin_packages/bin",
          "go/go/bin"
        ]
      },
      "service_account": "skia-external-compile-tasks@skia-swarming-bots.iam.gserviceaccount.com"
    },
    "Infra-PerCommit-Race": {
      "caches": [
        {
          "name": "go_cache",
          "path": "cache/go_cache"
        },
        {
          "name": "gopath",
          "path": "cache/gopath"
        },
        {
          "name": "vpython",
          "path": "cache/vpython"
        }
      ],
      "casSpec": "whole-repo",
      "cipd_packages": [
        {
          "name": "infra/3pp/tools/cpython/${platform}",
          "path": "cipd_bin_packages",
          "version": "version:2.7.18.chromium.29"
        },
        {
          "name": "infra/3pp/tools/git/linux-amd64",
          "path": "cipd_bin_packages",
          "version": "version:2.29.2.chromium.6"
        },
        {
          "name": "infra/gsutil",
          "path": "cipd_bin_packages",
          "version": "version:4.46"
        },
        {
          "name": "infra/tools/git/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci-auth/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/git-credential-luci/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/isolate/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/isolated/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/kitchen/${platform}",
          "path": ".",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/vpython/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "skia/bots/cockroachdb",
          "path": "cockroachdb",
          "version": "version:3"
        },
        {
          "name": "skia/bots/gcloud_linux",
          "path": "gcloud_linux",
          "version": "version:14"
        },
        {
          "name": "skia/bots/go",
          "path": "go",
          "version": "version:9"
        },
        {
          "name": "skia/bots/node",
          "path": "node",
          "version": "version:2"
        }
      ],
      "command": [
        "cipd_bin_packages/vpython${EXECUTABLE_SUFFIX}",
        "-u",
        "buildbot/infra/bots/run_recipe.py",
        "${ISOLATED_OUTDIR}",
        "swarm_infra",
        "{\"$kitchen\":{\"devshell\":true,\"git_auth\":true},\"buildername\":\"Infra-PerCommit-Race\",\"swarm_out_dir\":\"${ISOLATED_OUTDIR}\"}",
        "skia"
      ],
      "dependencies": [
        "Housekeeper-PerCommit-BundleRecipes"
      ],
      "dimensions": [
        "pool:Skia",
        "os:Debian-10.3",
        "gpu:none",
        "cpu:x86-64-Haswell_GCE",
        "machine_type:n1-standard-16",
        "docker_installed:true"
      ],
      "env_prefixes": {
        "PATH": [
          "cipd_bin_packages",
          "cipd_bin_packages/bin"
        ],
        "VPYTHON_VIRTUALENV_ROOT": [
          "${cache_dir}/vpython"
        ]
      },
      "extra_tags": {
        "log_location": "logdog://logs.chromium.org/skia/${SWARMING_TASK_ID}/+/annotations"
      },
      "io_timeout_ns": 3600000000000,
      "max_attempts": 1,
      "service_account": "skia-external-compile-tasks@skia-swarming-bots.iam.gserviceaccount.com"
    },
    "Infra-PerCommit-Small": {
      "caches": [
        {
          "name": "go_cache",
          "path": "cache/go_cache"
        },
        {
          "name": "gopath",
          "path": "cache/gopath"
        },
        {
          "name": "vpython",
          "path": "cache/vpython"
        }
      ],
      "casSpec": "whole-repo",
      "cipd_packages": [
        {
          "name": "infra/3pp/tools/cpython/${platform}",
          "path": "cipd_bin_packages",
          "version": "version:2.7.18.chromium.29"
        },
        {
          "name": "infra/3pp/tools/git/linux-amd64",
          "path": "cipd_bin_packages",
          "version": "version:2.29.2.chromium.6"
        },
        {
          "name": "infra/gsutil",
          "path": "cipd_bin_packages",
          "version": "version:4.46"
        },
        {
          "name": "infra/tools/git/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci-auth/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/git-credential-luci/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/kitchen/${platform}",
          "path": ".",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "infra/tools/luci/vpython/${platform}",
          "path": "cipd_bin_packages",
          "version": "git_revision:995a02b5f06efa1af1f64e6e3084265ab121b1e0"
        },
        {
          "name": "skia/bots/go",
          "path": "go",
          "version": "version:9"
        },
        {
          "name": "skia/bots/node",
          "path": "node",
          "version": "version:2"
        }
      ],
      "command": [
        "cipd_bin_packages/vpython${EXECUTABLE_SUFFIX}",
        "-u",
        "buildbot/infra/bots/run_recipe.py",
        "${ISOLATED_OUTDIR}",
        "swarm_infra",
        "{\"$kitchen\":{\"devshell\":true,\"git_auth\":true},\"buildername\":\"Infra-PerCommit-Small\",\"swarm_out_dir\":\"${ISOLATED_OUTDIR}\"}",
        "skia"
      ],
      "dependencies": [
        "Housekeeper-PerCommit-BundleRecipes"
      ],
      "dimensions": [
        "pool:Skia",
        "os:Debian-10.3",
        "gpu:none",
        "cpu:x86-64-Haswell_GCE",
        "machine_type:n1-standard-16",
        "docker_installed:true"
      ],
      "env_prefixes": {
        "PATH": [
          "cipd_bin_packages",
          "cipd_bin_packages/bin"
        ],
        "VPYTHON_VIRTUALENV_ROOT": [
          "${cache_dir}/vpython"
        ]
      },
      "extra_tags": {
        "log_location": "logdog://logs.chromium.org/skia/${SWARMING_TASK_ID}/+/annotations"
      },
      "max_attempts": 2,
      "service_account": "skia-external-compile-tasks@skia-swarming-bots.iam.gserviceaccount.com"
    },
    "Infra-PerCommit-ValidateAutorollConfigs": {
      "casSpec": "autoroll-configs",
      "command": [
        "./validate_autoroll_configs",
        "--project_id",
        "skia-swarming-bots",
        "--task_id",
        "<(TASK_ID)",
        "--task_name",
        "Infra-PerCommit-ValidateAutorollConfigs",
        "--workdir",
        ".",
        "--config",
        "./autoroll/config",
        "--alsologtostderr"
      ],
      "dependencies": [
        "Housekeeper-PerCommit-BuildTaskDrivers-Linux-x86_64"
      ],
      "dimensions": [
        "pool:Skia",
        "os:Debian-10.3",
        "gpu:none",
        "cpu:x86-64-Haswell_GCE",
        "machine_type:n1-highmem-2",
        "docker_installed:true"
      ],
      "service_account": "skia-external-compile-tasks@skia-swarming-bots.iam.gserviceaccount.com"
    }
  },
  "casSpecs": {
    "autoroll-configs": {
      "root": ".",
      "paths": [
        "autoroll/config"
      ]
    },
    "empty": {
      "digest": "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855/0"
    },
    "recipes": {
      "root": "..",
      "paths": [
        "buildbot/infra/config/recipes.cfg",
        "buildbot/infra/bots/bundle_recipes.sh",
        "buildbot/infra/bots/recipes",
        "buildbot/infra/bots/recipes.py"
      ]
    },
    "run-recipe": {
      "root": "..",
      "paths": [
        "buildbot/infra/bots/run_recipe.py"
      ]
    },
    "whole-repo": {
      "root": "..",
      "paths": [
        "buildbot"
      ],
      "excludes": [
        "^(.*\\/)*\\.git(\\/.*)*$"
      ]
    }
  }
}
