#!/bin/bash
# Base Debian image with extra packages required to compile Skia

set -x -e

APPNAME=build-skia

# We don't need to set TAG because if we are testing this locally, the autogenerated
# tag is fine, and if we are running this on Louhi, Louhi will set the tag for us.


copy_release_files () {
# Everything is handled in the Dockerfile
${INSTALL} --mode=644 -T build-skia/Dockerfile        ${ROOT}/Dockerfile

${INSTALL} --mode=644 -T cpp/fail_execve.cpp       ${ROOT}/fail_execve.cpp
${INSTALL} --mode=644 -T cpp/fail_link.cpp         ${ROOT}/fail_link.cpp
${INSTALL} --mode=644 -T cpp/fail_mknod.cpp        ${ROOT}/fail_mknod.cpp
${INSTALL} --mode=644 -T cpp/fail_rename.cpp       ${ROOT}/fail_rename.cpp
${INSTALL} --mode=644 -T cpp/fail_socket.cpp       ${ROOT}/fail_socket.cpp
${INSTALL} --mode=644 -T cpp/fiddle_secwrap.cpp    ${ROOT}/fiddle_secwrap.cpp
${INSTALL} --mode=644 -T cpp/seccomp_bpf.h         ${ROOT}/seccomp_bpf.h
${INSTALL} --mode=644 -T cpp/success.cpp           ${ROOT}/success.cpp
}

source ../bash/docker_build.sh
