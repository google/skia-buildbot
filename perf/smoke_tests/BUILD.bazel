load("//infra-sk:index.bzl", "nodejs_test", "ts_library")

nodejs_test(
    name = "perf-page-load_nodejs_test",
    src = "perf-page-load_nodejs_test.ts",
    tags = ["manual"],
    deps = [
        "//:node_modules/@types/chai",
        "//:node_modules/chai",
        "//:node_modules/google-auth-library",
        "//:node_modules/puppeteer",
        "//puppeteer-tests:util_ts_lib",
    ],
)

nodejs_test(
    name = "perf-chrome-public-load-a_nodejs_test",
    src = "perf-chrome-public-load-a_nodejs_test.ts",
    tags = ["manual"],
    deps = [
        "//:node_modules/@types/chai",
        "//:node_modules/chai",
        "//:node_modules/puppeteer",
        "//puppeteer-tests:util_ts_lib",
    ],
)

ts_library(
    name = "utils_ts_lib",
    srcs = ["utils.ts"],
    visibility = ["//visibility:public"],
    deps = [
        "//:node_modules/puppeteer",
        "//puppeteer-tests:util_ts_lib",
    ],
)

nodejs_test(
    name = "regression_page_nodejs_test",
    src = "regression_page_nodejs_test.ts",
    tags = ["manual"],
    deps = [
        ":utils_ts_lib",
        "//:node_modules/@types/chai",
        "//:node_modules/chai",
        "//:node_modules/puppeteer",
    ],
)

nodejs_test(
    name = "cluster_nodejs_test",
    src = "cluster_nodejs_test.ts",
    tags = ["manual"],
    deps = [
        ":utils_ts_lib",
        "//:node_modules/google-auth-library",
        "//:node_modules/puppeteer",
        "//puppeteer-tests:util_ts_lib",
    ],
)

nodejs_test(
    name = "alerts_nodejs_test",
    src = "alerts_nodejs_test.ts",
    tags = ["manual"],
    deps = [
        ":utils_ts_lib",
        "//:node_modules/google-auth-library",
        "//:node_modules/puppeteer",
        "//puppeteer-tests:util_ts_lib",
    ],
)

nodejs_test(
    name = "regressions_nodejs_test",
    src = "regressions_nodejs_test.ts",
    tags = ["manual"],
    deps = [
        ":utils_ts_lib",
        "//:node_modules/google-auth-library",
        "//:node_modules/puppeteer",
        "//puppeteer-tests:util_ts_lib",
    ],
)

nodejs_test(
    name = "triage_nodejs_test",
    src = "triage_nodejs_test.ts",
    tags = ["manual"],
    deps = [
        ":utils_ts_lib",
        "//:node_modules/google-auth-library",
        "//:node_modules/puppeteer",
        "//puppeteer-tests:util_ts_lib",
    ],
)
